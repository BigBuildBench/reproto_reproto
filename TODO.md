* type lookup should use indirect types instead of ref-counted reference to actual types to avoid
  additional copies (alt use Rc's).
